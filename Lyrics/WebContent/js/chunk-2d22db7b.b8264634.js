(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22db7b"],{f94f:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.songFound?s("div",[s("h1",[t._v(t._s(t.song.title))]),s("h4",[t._v("By "+t._s(t.song.performer?t.song.performer.name:"unknown artist"))]),s("div",{staticClass:"my-5"},[s("p",[s("pre",[t._v(t._s(t.song.lyrics))])])]),t.song.album?s("p",[t._v("From "+t._s(t.song.album.title)+" - "+t._s(t.song.album.year))]):t._e(),s("div",{staticClass:"mb-2"},[s("div",[t._v("Music composed by:")]),t.song.musicBy.length?s("p",[t._v(t._s(t.song.musicBy.map((function(t){return t.name})).toString()))]):s("div",[t._v("unknown")])]),s("div",{staticClass:"mb-4"},[s("div",[t._v("Lyrics written by:")]),t.song.lyricsBy.length?s("p",[t._v(t._s(t.song.lyricsBy.map((function(t){return t.name})).toString()))]):s("div",[t._v("unknown")])]),s("div",[t._v("Uploaded by:")]),s("p",[t._v(t._s(t.song.uploader.username))]),s("br"),s("div",[s("div",{staticClass:"mb-3"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{rows:"3",cols:"60",placeholder:"Write a comment..."},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),s("div",{staticClass:"mb-3"},[s("button",{attrs:{type:"button"},on:{click:function(e){return t.comment()}}},[t._v("Post")])]),t.failure?s("div",{staticClass:"alert alert-danger"},[t._v("You have to log in to leave a comment!")]):t._e()]),t.comments.length?s("div",[s("ul",{staticClass:"list-group"},t._l(t.comments,(function(t){return s("li",{key:t.id,staticClass:"list-group-item mb-4 container rounded"},[s("comment",{attrs:{comment:t}})],1)})),0)]):s("div",{staticClass:"mb-3"},[t._v("Be the first to leave a comment!")])]):s("div",[s("h1",[t._v("Not found")])])])},o=[],i=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v(" "+t._s(t.comment.text)+" "),s("br"),s("div",{staticClass:"float-right"},[t._v("Written by "+t._s(t.comment.user.username)+" at "+t._s(t.comment.date)+" [UTC].")])])},r=[],m={name:"comment",props:["comment"],data:function(){return{}},methods:{}},u=m,c=s("2877"),l=Object(c["a"])(u,a,r,!1,null,null,null),d=l.exports,v=s("3fab"),g={name:"songPage",props:["id"],components:{comment:d},data:function(){return{song:null,comments:[],text:"",failure:!1,requestBase:v["a"].requestBase,songFound:!1}},computed:{username(){return this.$store.state.username}},methods:{getComments:function(){var t={id:this.song.id};i["a"].http.post(this.requestBase+"/comment",t).then(t=>{this.comments=t.body})},comment:function(){var t={text:this.text,user:{username:this.username},song:{id:this.song.id}};i["a"].http.put(this.requestBase+"/comment",t).then(()=>{this.failure=!1,this.getComments()},()=>{this.failure=!0})},getSong:function(){i["a"].http.get(this.requestBase+"/song/"+this.id).then(t=>{this.song=t.body,this.comments=this.song.comments,this.songFound=!0},()=>{this.songFound=!1})}},mounted:function(){this.getSong()},watch:{$route(){this.getSong()}}},h=g,p=Object(c["a"])(h,n,o,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d22db7b.b8264634.js.map