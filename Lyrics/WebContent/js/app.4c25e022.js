(function(t){function e(e){for(var n,i,o=e[0],l=e[1],u=e[2],m=0,d=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(d.length)d.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var n={},a={app:0},r=[];function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=n,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/Lyrics/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"001b":function(t,e,s){"use strict";var n=s("675d"),a=s.n(n);a.a},"034f":function(t,e,s){"use strict";var n=s("85ec"),a=s.n(n);a.a},1:function(t,e){},"3a7d":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("ab8b");var n=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Main")],1)},r=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-10"},[s("ul",{staticClass:"nav nav-pills"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",class:{active:"home"===t.state},attrs:{href:"#",type:"button"},on:{click:function(e){return t.setState("home")}}},[t._v("Home")])]),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",class:{active:"search"===t.state},attrs:{href:"#",type:"button"},on:{click:function(e){return t.setState("search")}}},[t._v("Search for a song")])]),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",class:{active:"submit"===t.state},attrs:{href:"#",type:"button"},on:{click:function(e){return t.setState("submit")}}},[t._v("Submit a song")])]),s("li",{staticClass:"nav-item"},["admin"===t.auth?s("a",{staticClass:"nav-link",class:{active:"review"===t.state},attrs:{href:"#",type:"button"},on:{click:function(e){return t.setState("review")}}},[t._v("Review pending submissions")]):t._e()])])]),s("div",{staticClass:"col-sm-2"},[s("loggedIn",{attrs:{loggedIn:"none"!==t.auth},on:{toLogin:function(e){return t.toLogin()},toRegistration:function(e){return t.toRegistration()},logOut:function(e){return t.logOut()}}})],1)]),"home"===t.state?s("home"):"search"===t.state?s("songSearch",{on:{toSong:function(e){return t.toSong(e)}}}):"submit"===t.state?s("addSong",{attrs:{auth:t.auth}}):"login"===t.state?s("login",{on:{logIn:function(e){return t.logIn()}}}):"registration"===t.state?s("registration"):"review"===t.state?s("songReview",{on:{toReview:function(e){return t.toReview(e)}}}):"reviewing"===t.state?s("addSong",{attrs:{auth:t.auth,songToBeApproved:t.song}}):"song"===t.state?s("songPage",{attrs:{song:t.song,full:!0}}):t._e()],1)},o=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"mb-1"},[s("label",{attrs:{for:"title"}},[t._v("Title:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",id:"title",placeholder:"title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),s("div",{staticClass:"mb-3"},[s("label",{attrs:{for:"lyrics"}},[t._v("Lyrics:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lyrics,expression:"lyrics"}],attrs:{type:"text",id:"lyrics",placeholder:"lyrics"},domProps:{value:t.lyrics},on:{input:function(e){e.target.composing||(t.lyrics=e.target.value)}}})]),s("div",{staticClass:"mb-3"},[s("span",{staticClass:"mr-3"},[t._v("Language:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.language,expression:"language"}],attrs:{type:"radio",id:"serbian",value:"Serbian"},domProps:{checked:t._q(t.language,"Serbian")},on:{change:function(e){t.language="Serbian"}}}),s("label",{attrs:{for:"serbian"}},[t._v("Serbian")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.language,expression:"language"}],attrs:{type:"radio",id:"english",value:"English"},domProps:{checked:t._q(t.language,"English")},on:{change:function(e){t.language="English"}}}),s("label",{attrs:{for:"english"}},[t._v("English")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.language,expression:"language"}],attrs:{type:"radio",id:"other",value:"Other"},domProps:{checked:t._q(t.language,"Other")},on:{change:function(e){t.language="Other"}}}),s("label",{attrs:{for:"other"}},[t._v("Other")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.language,expression:"language"}],attrs:{type:"radio",id:"any",value:"Any"},domProps:{checked:t._q(t.language,"Any")},on:{change:function(e){t.language="Any"}}}),s("label",{attrs:{for:"any"}},[t._v("Any")])]),s("div",{staticClass:"mb-1"},[s("label",{attrs:{for:"peformer"}},[t._v("Performer:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.performer,expression:"performer"}],attrs:{type:"text",id:"performer",placeholder:"performer"},domProps:{value:t.performer},on:{input:function(e){e.target.composing||(t.performer=e.target.value)}}})]),s("div",{staticClass:"mb-3"},[s("label",{attrs:{for:"album"}},[t._v("Album:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.album,expression:"album"}],attrs:{type:"text",id:"album",placeholder:"album"},domProps:{value:t.album},on:{input:function(e){e.target.composing||(t.album=e.target.value)}}})]),s("div",{staticClass:"my-5"},[s("button",{staticClass:"btn-primary",on:{click:t.search}},[t._v("Search for the song")])]),t.searchDone?s("div",[t.results.length?s("div",[s("div",{staticClass:"mb-3"},[t._v("Results:")]),s("ol",{staticClass:"list-group"},t._l(t.results,(function(e){return s("li",{key:e.id,staticClass:"list-group-item list-group-item-action mb-2",on:{click:function(s){return t.toSong(e)}}},[s("songElement",{attrs:{song:e,full:!1}})],1)})),0)]):s("div",[t._v("No songs match your search criteria.")])]):t._e()])},u=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.full?s("div",[s("h1",[t._v(t._s(t.song.title))]),s("h4",[t._v("By "+t._s(t.song.performer?t.song.performer.name:"unknown artist"))]),s("div",{staticClass:"my-5"},[s("p",[s("pre",[t._v(t._s(t.song.lyrics))])])]),t.song.album?s("p",[t._v("From "+t._s(t.song.album.title)+" - "+t._s(t.song.album.year))]):t._e(),s("div",{staticClass:"mb-2"},[s("div",[t._v("Music composed by:")]),t.song.musicBy.length?s("p",[t._v(t._s(t.song.musicBy.map((function(t){return t.name})).toString()))]):s("div",[t._v("unknown")])]),s("div",{staticClass:"mb-4"},[s("div",[t._v("Lyrics written by:")]),t.song.lyricsBy.length?s("p",[t._v(t._s(t.song.lyricsBy.map((function(t){return t.name})).toString()))]):s("div",[t._v("unknown")])]),s("div",[t._v("Uploaded by:")]),s("p",[t._v(t._s(t.song.uploader.username))]),s("br"),s("div",[s("div",{staticClass:"mb-3"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{rows:"3",cols:"60",placeholder:"Write a comment..."},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),s("div",{staticClass:"mb-3"},[s("button",{attrs:{type:"button"},on:{click:function(e){return t.comment()}}},[t._v("Post")])]),t.failure?s("div",{staticClass:"alert alert-danger"},[t._v("You have to log in to leave a comment!")]):t._e()]),t.comments.length?s("div",[s("ul",{staticClass:"list-group"},t._l(t.comments,(function(t){return s("li",{key:t.id,staticClass:"list-group-item mb-4 container rounded"},[s("comment",{attrs:{comment:t}})],1)})),0)]):s("div",{staticClass:"mb-3"},[t._v("Be the first to leave a comment!")])]):s("div",[t._v(" "+t._s(t.song.title+" by "+(t.song.performer?t.song.performer.name:"unknown artist"))+" ")])},m=[],d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v(" "+t._s(t.comment.text)+" "),s("br"),s("div",{staticClass:"float-right"},[t._v("Written by "+t._s(t.comment.user.username)+" at "+t._s(t.comment.date)+" [UTC].")])])},p=[],g={name:"comment",props:["comment"],data:function(){return{}},methods:{}},v=g,h=s("2877"),f=Object(h["a"])(v,d,p,!1,null,null,null),b=f.exports,_={name:"songElement",props:["song","full"],components:{comment:b},data:function(){return{comments:[],text:"",failure:!1}},methods:{getComments:function(){var t={id:this.song.id};n["a"].http.post("http://localhost:8080/Lyrics/api/comment",t).then(t=>{this.comments=t.body})},comment:function(){var t={text:this.text,user:{username:this.$session.get("username")},song:{id:this.song.id}};n["a"].http.put("http://localhost:8080/Lyrics/api/comment",t).then(()=>{this.failure=!1,this.getComments()},()=>{this.failure=!0})}},mounted:function(){this.full&&this.getComments()}},y=_,C=Object(h["a"])(y,c,m,!1,null,null,null),w=C.exports,S={name:"songSearch",data:function(){return{title:"",lyrics:"",language:"English",performer:"",album:"",criteria:null,results:[],searchDone:!1}},components:{songElement:w},methods:{search:function(){this.criteria={title:this.title,lyrics:this.lyrics,language:this.language,performer:this.performer,album:this.album},n["a"].http.post("http://localhost:8080/Lyrics/api/songsearch",this.criteria).then(t=>{this.results=t.body}).then(()=>{this.searchDone=!0})},toSong:function(t){this.$emit("toSong",t)}}},x=S,A=Object(h["a"])(x,l,u,!1,null,null,null),k=A.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"py-5"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[s("div",{staticClass:"form-group mb-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"username",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("div",{staticClass:"form-group mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text",placeholder:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._m(0)]),t.success?s("div",{staticClass:"alert alert-success"},[t._v("Login successful!")]):t._e(),t.failure?s("div",{staticClass:"alert alert-danger"},[t._v("Invalid username and/or password!")]):t._e()])},P=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group my-3\t"},[s("button",{attrs:{type:"submit"}},[t._v("Log in")])])}],O=s("48ac"),E=s.n(O),$={name:"login",data:function(){return{username:"",password:"",success:!1,failure:!1,user:null}},methods:{login:function(){this.user={username:this.username,password:this.password},this.$http.post("http://localhost:8080/Lyrics/api/login",this.user).then(t=>{this.$session.start();var e=t.body;this.$session.set("jwt",e),this.$session.set("username",this.username);var s=E.a.decode(e);this.$session.set("admin",s.admin),n["a"].http.headers.common["Authorization"]="Bearer"+t.body,this.$emit("logIn"),this.success=!0,this.failure=!1},()=>{this.failure=!0,this.success=!1})}}},T=$,B=Object(h["a"])(T,L,P,!1,null,null,null),R=B.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.loggedIn()?s("div",[null!==t.songToBeApproved&&"admin"!==t.auth?s("div",[t._v(" Access denied! ")]):s("div",[s("form",{on:{submit:function(e){return e.preventDefault(),t.submit()}}},[s("div",{staticClass:"form-group mb-5"},[s("fieldset",{staticClass:"border"},[t._m(0),s("div",{staticClass:"form-group mb-3"},[s("label",{attrs:{for:"title"}},[t._v("Title:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{id:"title",placeholder:"title",required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),s("div",{staticClass:"form-group mb-3"},[t._m(1),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lyrics,expression:"lyrics"}],attrs:{id:"lyrics",placeholder:"lyrics",rows:"30",cols:"80",required:""},domProps:{value:t.lyrics},on:{input:function(e){e.target.composing||(t.lyrics=e.target.value)}}})]),s("div",{staticClass:"form-group mb-3"},[s("span",{staticClass:"mr-3"},[t._v("Language:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.language,expression:"language"}],attrs:{type:"radio",id:"serbian",value:"Serbian"},domProps:{checked:t._q(t.language,"Serbian")},on:{change:function(e){t.language="Serbian"}}}),s("label",{attrs:{for:"serbian"}},[t._v("Serbian")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.language,expression:"language"}],attrs:{type:"radio",id:"english",value:"English"},domProps:{checked:t._q(t.language,"English")},on:{change:function(e){t.language="English"}}}),s("label",{attrs:{for:"english"}},[t._v("English")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.language,expression:"language"}],attrs:{type:"radio",id:"other",value:"Other"},domProps:{checked:t._q(t.language,"Other")},on:{change:function(e){t.language="Other"}}}),s("label",{attrs:{for:"other"}},[t._v("Other")])]),s("div",{staticClass:"form-group mb-1"},[s("label",{attrs:{for:"performer"}},[t._v("Performer:")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.performer,expression:"performer"}],attrs:{id:"performer",required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.performer=e.target.multiple?s:s[0]}}},[s("option",{domProps:{value:-1}},[t._v("Unknown")]),t._l(t.performers,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),s("div",{staticClass:"form-group mb-3"},[s("label",{attrs:{for:"album"}},[t._v("Album:")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.album,expression:"album"}],attrs:{id:"album",required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.album=e.target.multiple?s:s[0]}}},[s("option",{domProps:{value:-1}},[t._v("Unknown")]),t._l(t.albums,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.title))])}))],2)])])]),s("div",{staticClass:"form-group mb-5"},[s("fieldset",{staticClass:"border"},[t._m(2),s("div",{staticClass:"form-group mb-3"},[s("label",{attrs:{for:"author"}},[t._v("Select author:")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.author,expression:"author"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.author=e.target.multiple?s:s[0]}}},t._l(t.authors,(function(e){return s("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.name))])})),0)]),s("div",{staticClass:"form-group mb-2"},[s("button",{staticClass:"btn-light",attrs:{type:"button"},on:{click:t.addMusic}},[t._v("Add author to composers")])]),s("div",{staticClass:"form-group mb-3"},[s("button",{staticClass:"btn-light",attrs:{type:"button"},on:{click:t.addLyrics}},[t._v("Add author to lyrics writers")])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",{staticClass:"form-group mb-4"},[t._v("Composers:")]),s("div",{staticClass:"form-group mb-3"},[s("table",{staticClass:"table table-borderless",attrs:{id:"musicTable"}},[s("tbody",t._l(t.selectedMusic,(function(e){return s("selectableRow",{key:e.id,tag:"tr"},[s("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.name))])])})),1)])]),s("div",{staticClass:"form-group mb-3"},[s("button",{staticClass:"btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.removeSelected("musicTable",t.selectedMusic)}}},[t._v("Remove selected composers")])])]),s("div",{staticClass:"col"},[s("div",{staticClass:"form-group mb-4"},[t._v("Lyrics writers:")]),s("div",{staticClass:"form-group mb-3"},[s("table",{staticClass:"table table-borderless",attrs:{id:"lyricsTable"}},[s("tbody",t._l(t.selectedLyrics,(function(e){return s("selectableRow",{key:e.id,tag:"tr"},[s("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.name))])])})),1)])]),s("div",{staticClass:"form-group mb-3"},[s("button",{staticClass:"btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.removeSelected("lyricsTable",t.selectedLyrics)}}},[t._v("Remove selected lyrics writers")])])])])])]),s("div",{staticClass:"form-group mb-3"},[s("button",{staticClass:"btn-primary",attrs:{type:"submit"}},[t._v(t._s(null===t.songToBeApproved?"Submit this song":"Approve of this song"))])]),s("div",{staticClass:"form-group mb-3"},[null!==t.songToBeApproved?s("button",{staticClass:"btn-danger",attrs:{type:"button"},on:{click:function(e){return t.revert()}}},[t._v("Revert changes")]):t._e()]),t.success?s("div",{staticClass:"alert alert-success"},[t._v(t._s(null===t.songToBeApproved?"Song successfully submitted!":"Song approved of!"))]):t._e(),t.failure?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(null===t.songToBeApproved?"Unauthorized access! You need to log in to perform this action.":"Access denied!"))]):t._e()])])]):s("div",{staticClass:"jumbotron"},[t._v(" You need to log in to submit a song! ")])])},j=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group mb-5"},[s("legend",[t._v("General")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-1"},[s("label",{attrs:{for:"lyrics"}},[t._v("Lyrics:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group mb-5"},[s("legend",[t._v("Authors of the music and lyrics")])])}],I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",{class:{"table-active":t.selected},on:{click:t.toggle}},[s("td",[t._t("content")],2)])},M=[],q={name:"selectableRow",data:function(){return{selected:!1}},methods:{toggle:function(){this.selected=!this.selected}}},D=q,U=Object(h["a"])(D,I,M,!1,null,null,null),z=U.exports,W={name:"addSong",props:{auth:{},songToBeApproved:{default:null}},components:{selectableRow:z},data:function(){return{title:"",lyrics:"",language:"English",performer:null,performers:[],album:null,albums:[],selectedMusic:[],selectedLyrics:[],author:null,authors:[],success:!1,failure:!1}},methods:{gatherData:function(){return{title:this.title,lyrics:this.lyrics,language:this.language,performer:{id:this.performer},album:{id:this.album},uploader:{username:this.$session.get("username")},musicBy:this.selectedMusic,lyricsBy:this.selectedLyrics}},add:function(){n["a"].http.post("http://localhost:8080/Lyrics/api/song",this.gatherData()).then(()=>{this.success=!0,this.failure=!1},()=>{this.failure=!0,this.success=!1})},getPerformers:function(){n["a"].http.get("http://localhost:8080/Lyrics/api/performer").then(t=>{this.performers=t.body})},getAlbums:function(){n["a"].http.get("http://localhost:8080/Lyrics/api/album").then(t=>{this.albums=t.body})},getAuthors:function(){n["a"].http.get("http://localhost:8080/Lyrics/api/author").then(t=>{this.authors=t.body})},addMusic:function(){this.author&&this.addToSet(this.author,this.selectedMusic)},addLyrics:function(){this.author&&this.addToSet(this.author,this.selectedLyrics)},addToSet:function(t,e){e.some(e=>e.id===t.id)||e.push(t)},removeIfSelected(t,e){if(t.__vue__.selected){for(var s=t.firstChild.firstChild.innerHTML,n=-1,a=0;a<e.length;a++)if(e[a].name===s){n=a;break}-1===n||e.splice(n,1)}},removeSelected:function(t,e){var s=document.getElementById(t),n=s.firstChild,a=n.childNodes;a.forEach(t=>this.removeIfSelected(t,e))},loggedIn:function(){return"none"!==this.auth},fillIn:function(){this.title=this.songToBeApproved.title,this.lyrics=this.songToBeApproved.lyrics,this.language=this.songToBeApproved.language,this.performer=this.songToBeApproved.performer?this.songToBeApproved.performer.id:-1,this.album=this.songToBeApproved.album?this.songToBeApproved.album.id:-1,this.selectedMusic=this.songToBeApproved.musicBy.slice(0),this.selectedLyrics=this.songToBeApproved.lyricsBy.slice(0)},editAndApprove:function(){var t=this.gatherData();t.id=this.songToBeApproved.id,n["a"].http.put("http://localhost:8080/Lyrics/api/song",t).then(()=>{n["a"].http.post("http://localhost:8080/Lyrics/api/approve/"+t.id).then(()=>{this.success=!0,this.failure=!1})}).catch(()=>{this.failure=!0,this.success=!1})},submit:function(){null===this.songToBeApproved?this.add():this.editAndApprove()},revert:function(){this.fillIn()}},mounted:function(){this.getPerformers(),this.getAlbums(),this.getAuthors()},created:function(){null!==this.songToBeApproved&&this.fillIn()}},Y=W,H=(s("001b"),Object(h["a"])(Y,N,j,!1,null,null,null)),J=H.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"py-5"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[s("div",{staticClass:"form-group mb-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"username",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("div",{staticClass:"form-group mb-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text",placeholder:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"form-group mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.emailAdress,expression:"emailAdress"}],attrs:{type:"email",placeholder:"e-mail adress",required:""},domProps:{value:t.emailAdress},on:{input:function(e){e.target.composing||(t.emailAdress=e.target.value)}}})]),t._m(0),t.success?s("div",{staticClass:"alert alert-success"},[t._v("Registration successful!")]):t._e(),t.failure?s("div",{staticClass:"alert alert-danger"},[t._v("Username unfortunately taken, pick another one!")]):t._e()])])},G=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group my-3\t"},[s("button",{attrs:{type:"submit"}},[t._v("Register")])])}],K={name:"registration",data:function(){return{username:"",password:"",emailAdress:"",success:!1,failure:!1}},methods:{register:function(){n["a"].http.put("http://localhost:8080/Lyrics/api/register",{username:this.username,password:this.password,emailAdress:this.emailAdress}).then(()=>{this.success=!0,this.failure=!1},()=>{this.failure=!0,this.success=!1})}}},Q=K,V=Object(h["a"])(Q,F,G,!1,null,null,null),X=V.exports,Z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},tt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v(" Welcome! ")]),n("img",{attrs:{src:s("8717"),alt:"note"}})])}],et={name:"home",data:function(){return{}},methods:{}},st=et,nt=Object(h["a"])(st,Z,tt,!1,null,null,null),at=nt.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.loggedIn?s("div",[s("div",[t._v("Logged in as: "+t._s(this.$session.get("username")))]),s("a",{attrs:{href:"#"},on:{click:t.logOut}},[t._v("[Log out]")])]):s("div",[s("span",[s("a",{attrs:{href:"#"},on:{click:t.toLogin}},[t._v("[Log in]")])]),s("span",[s("a",{attrs:{href:"#"},on:{click:t.toRegistration}},[t._v("[Register]")])])])])},it=[],ot={name:"loggedIn",props:["loggedIn"],data:function(){return{}},methods:{toLogin:function(){this.$emit("toLogin")},toRegistration:function(){this.$emit("toRegistration")},logOut:function(){this.$emit("logOut")}}},lt=ot,ut=Object(h["a"])(lt,rt,it,!1,null,null,null),ct=ut.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-5"},[t.pendingSongs.length?s("div",[s("ol",{staticClass:"list-group"},t._l(t.pendingSongs,(function(e){return s("li",{key:e.id,staticClass:"list-group-item list-group-item-action mb-2",on:{click:function(s){return t.toReview(e)}}},[s("songElement",{attrs:{song:e,full:!1}})],1)})),0)]):s("div",[t._v("No pending submissions.")])])},dt=[],pt={name:"songReview",data:function(){return{pendingSongs:[]}},components:{songElement:w},methods:{getSongs:function(){n["a"].http.get("http://localhost:8080/Lyrics/api/pending").then(t=>{this.pendingSongs=t.body})},toReview:function(t){this.$emit("toReview",t)}},mounted:function(){this.getSongs()}},gt=pt,vt=Object(h["a"])(gt,mt,dt,!1,null,null,null),ht=vt.exports,ft={name:"Main",data:function(){return{state:"home",auth:"none",song:null}},components:{songSearch:k,login:R,addSong:J,registration:X,home:at,loggedIn:ct,songReview:ht,songPage:w},methods:{setState:function(t){this.state=t},toLogin:function(){this.setState("login")},toRegistration:function(){this.setState("registration")},logIn:function(){this.auth=this.$session.get("admin")?"admin":"user",this.setState("home")},logOut:function(){this.auth="none",this.$session.destroy(),n["a"].http.headers.common["Authorization"]=null,this.setState("home")},toReview:function(t){this.setState("reviewing"),this.song=t},toSong:function(t){this.setState("song"),this.song=t}},mounted:function(){}},bt=ft,_t=(s("c266"),Object(h["a"])(bt,i,o,!1,null,null,null)),yt=_t.exports,Ct={name:"app",components:{Main:yt}},wt=Ct,St=(s("034f"),Object(h["a"])(wt,a,r,!1,null,null,null)),xt=St.exports,At=s("28dd"),kt=s("0628"),Lt=s.n(kt);n["a"].use(At["a"]),n["a"].use(Lt.a),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(xt)}}).$mount("#app")},"675d":function(t,e,s){},"85ec":function(t,e,s){},8717:function(t,e,s){t.exports=s.p+"img/note.9c721eb1.png"},c266:function(t,e,s){"use strict";var n=s("3a7d"),a=s.n(n);a.a}});
//# sourceMappingURL=app.4c25e022.js.map